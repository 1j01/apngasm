CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(APNGASM)
SET(VERSION_MAJOR 3)
SET(VERSION_MINOR 0)
SET(VERSION_PATCH 0)
SET(VERSION "${VERSION_MAJOR}.${VERSION_MINOR}.${VERSION_PATCH}")

INCLUDE_DIRECTORIES(${APNGASM_SOURCE_DIR}/src)

# Generate version header
FILE(WRITE ${APNGASM_SOURCE_DIR}/src/apngasm-version.h 
	"#ifndef _VERSION_H_\n"
	"#define _VERSION_H_\n\n"
	"#define APNGASM_VERSION \"${VERSION}\"\n\n"
	"#endif"
)

ADD_SUBDIRECTORY(${APNGASM_SOURCE_DIR}/lib)
ADD_SUBDIRECTORY(${APNGASM_SOURCE_DIR}/bin)
